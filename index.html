<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>MaterialX</title>
    <link rel="icon" type="image/png" href="img/logo.jpeg">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0b0712;
            font-family: 'Poppins', sans-serif;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            color: white;
        }

        /* ===== BACKGROUND ELEGANT GRADIENT + SOFT PARTICLES ===== */
        .bg-aura {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 40% 50%, #1f103a 0%, #080416 100%);
            z-index: 0;
        }

        .particle-field {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            pointer-events: none;
            opacity: 0.7;
        }

        .particle {
            position: absolute;
            background: rgba(190, 130, 250, 0.15);
            border-radius: 50%;
            filter: blur(8px);
            animation: floatParticle 18s infinite alternate ease-in-out;
        }

        @keyframes floatParticle {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(30px, -20px) scale(1.3); }
        }

        /* subtle grid (barely visible) */
        .grid-lines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(160, 100, 240, 0.08) 1px, transparent 1px),
                linear-gradient(90deg, rgba(160, 100, 240, 0.08) 1px, transparent 1px);
            background-size: 60px 60px;
            z-index: 1;
        }

        /* ===== MAIN CONTENT (layered above) ===== */
        .hero {
            position: relative;
            z-index: 20;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            width: 100%;
            padding: 1.5rem;
            text-align: center;
            backdrop-filter: blur(1px);
        }

        /* ===== LOGO PRESERVED + NEXT-LEVEL ANIMATION ===== */
        .logo-glassy {
            max-width: min(450px, 75vw);
            margin-bottom: 1.8rem;
            filter: drop-shadow(0 0 30px rgba(170, 90, 255, 0.6));
            animation: logoLevitate 4s infinite alternate, logoGlow 3s infinite alternate;
            border-radius: 32px;
            background: transparent; /* keep original image background */
            transition: transform 0.2s ease;
        }

        .logo-glassy img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 32px;
            border: 2px solid rgba(200, 150, 255, 0.25);
            box-shadow: 0 25px 45px -10px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(200, 160, 255, 0.2) inset;
            transition: all 0.4s;
        }

        /* preserve original image exactly, only animate container */
        .logo-glassy:hover img {
            border-color: #d9b0ff;
            box-shadow: 0 0 35px #c285fd;
        }

        @keyframes logoLevitate {
            0% { transform: translateY(0px) rotate(0deg) scale(1); }
            100% { transform: translateY(-18px) rotate(0.5deg) scale(1.01); }
        }

        @keyframes logoGlow {
            0% { filter: drop-shadow(0 0 15px #b77ef0); }
            100% { filter: drop-shadow(0 0 45px #e3b1ff) drop-shadow(0 0 15px #a64dff); }
        }

        /* ===== TITLE (ultra smooth, no hard glitch) ===== */
        .sleek-title {
            font-size: clamp(3.5rem, 15vw, 7.5rem);
            font-weight: 900;
            line-height: 1.1;
            color: #f0eaff;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            text-shadow: 
                0 0 12px #c794ff,
                0 0 30px #b46eff,
                0 0 55px #9013fe;
            animation: titleBreathing 5s infinite alternate, subtleShift 8s infinite;
            margin-bottom: 0.3rem;
            white-space: nowrap;
            max-width: 100vw;
            overflow-x: auto;
            padding-bottom: 4px;
            -webkit-text-stroke: 0.5px rgba(255,255,240,0.3);
        }

        .sleek-title span {
            display: inline-block;
            animation: letterWave 3s infinite alternate;
            animation-delay: calc(0.05s * var(--i));
        }

        @keyframes titleBreathing {
            0% { letter-spacing: 0.1em; filter: brightness(0.9); text-shadow: 0 0 20px #bb88ff; }
            100% { letter-spacing: 0.18em; filter: brightness(1.2); text-shadow: 0 0 50px #f0c4ff, 0 0 15px #b45eff; }
        }

        @keyframes subtleShift {
            0% { transform: skew(0deg, 0deg); }
            95% { transform: skew(0deg, 0deg); }
            96% { transform: skew(1deg, 0.3deg); }
            97% { transform: skew(-0.5deg, -0.1deg); }
            100% { transform: skew(0deg, 0deg); }
        }

        @keyframes letterWave {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-7px); }
        }

        /* ===== SUBTITLE (flowing neon) ===== */
        .flow-sub {
            font-size: clamp(1rem, 3.8vw, 1.9rem);
            font-weight: 300;
            letter-spacing: 0.5em;
            text-transform: uppercase;
            background: linear-gradient(90deg, #dbbdff, #f0dcff, #c99aff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 40px #c285fd;
            margin: 0.5rem 0 2.2rem;
            padding: 0.5rem 2rem;
            border-radius: 60px;
            backdrop-filter: blur(7px);
            border: 1px solid rgba(200, 160, 255, 0.25);
            white-space: nowrap;
            max-width: 95vw;
            overflow-x: auto;
            animation: borderPulse 3s infinite alternate;
        }

        @keyframes borderPulse {
            0% { border-color: rgba(200, 160, 255, 0.2); box-shadow: 0 0 20px rgba(160, 100, 255, 0.2); }
            100% { border-color: rgba(240, 200, 255, 0.7); box-shadow: 0 0 45px #d29eff; }
        }

        /* ===== LOADING BAR (liquid purple) ===== */
        .loader-wrapper {
            width: min(550px, 80vw);
            margin: 1.5rem auto 1rem;
        }

        .status-text {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 12px;
            color: #dac0ff;
            font-size: 1rem;
            font-weight: 400;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        .status-text i {
            font-size: 1.7rem;
            color: #d9b0ff;
            animation: pulseIcon 2.2s infinite;
        }

        @keyframes pulseIcon {
            0% { opacity: 0.5; transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1.2); text-shadow: 0 0 25px white; }
        }

        .liquid-track {
            height: 10px;
            background: rgba(0, 0, 0, 0.45);
            border-radius: 40px;
            border: 1px solid #b27af0;
            box-shadow: 0 0 10px #a451ff, inset 0 0 6px #2e0047;
            padding: 2px;
        }

        .liquid-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #c394ff, #eba0ff, #b45aff, #c27bff);
            border-radius: 40px;
            box-shadow: 0 0 35px #edbbff, 0 0 15px #b555ff;
            transition: width 0.35s cubic-bezier(0.46, 0.03, 0.52, 0.96);
            position: relative;
            background-size: 200% 100%;
            animation: liquidMove 2.5s infinite alternate;
        }

        @keyframes liquidMove {
            0% { background-position: 0% 0%; }
            100% { background-position: 100% 0%; }
        }

        /* ===== SKIP BUTTON (sleek) ===== */
        .skip-intro {
            position: fixed;
            top: 22px;
            right: 28px;
            background: rgba(18, 6, 33, 0.7);
            backdrop-filter: blur(16px);
            border: 1.5px solid rgba(210, 150, 255, 0.6);
            color: #f0deff;
            padding: 0.7rem 2rem;
            border-radius: 60px;
            font-size: 1rem;
            font-weight: 600;
            letter-spacing: 2.5px;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 0 20px #b163ff;
            transition: 0.3s;
            text-transform: uppercase;
        }

        .skip-intro:hover {
            background: #501f9a;
            border-color: #f3ceff;
            box-shadow: 0 0 50px #c67aff;
            transform: scale(1.03);
        }

        /* ===== responsive fine-tuning ===== */
        @media (max-width: 700px) {
            .sleek-title { letter-spacing: 0.05em; }
            .flow-sub { letter-spacing: 0.3em; }
        }

        @media (max-width: 500px) {
            .skip-intro { padding: 0.5rem 1.3rem; font-size: 0.8rem; top: 15px; right: 15px; }
            .logo-glassy { max-width: 70vw; }
        }

        @media (max-height: 550px) and (orientation: landscape) {
            .hero { flex-direction: row; flex-wrap: wrap; gap: 0.5rem 2rem; }
            .logo-glassy { width: 30vw; }
            .sleek-title { font-size: 4rem; }
        }

        /* hide title scrollbar (just in case) */
        .sleek-title::-webkit-scrollbar { height: 4px; background: #180032; }
        .sleek-title::-webkit-scrollbar-thumb { background: #b77ef0; border-radius: 10px; }
        .flow-sub::-webkit-scrollbar { height: 3px; background: #1c0035; }
        .flow-sub::-webkit-scrollbar-thumb { background: #bc87fa; }
    </style>
</head>
<body>
    <!-- background layers: soft deep purple -->
    <div class="bg-aura"></div>
    <div class="grid-lines"></div>

    <!-- floating particles (very subtle) -->
    <div class="particle-field" id="particleField"></div>

    <!-- skip button -->
    <button class="skip-intro" id="skipIntro"> ENTER </button>

    <!-- main hero unit -->
    <div class="hero">
        <!-- logo container — preserves original image exactly, no distortion -->
        <div class="logo-glassy" id="logoContainer">
            <img src="img/logo.jpeg" alt="MaterialX" id="logoImage">
        </div>

        <!-- title with soft wave animation -->
        <div class="sleek-title" id="dynamicTitle">
            <span style="--i:1">M</span><span style="--i:2">a</span><span style="--i:3">t</span><span style="--i:4">e</span><span style="--i:5">r</span><span style="--i:6">i</span><span style="--i:7">a</span><span style="--i:8">l</span><span style="--i:9">X</span>
        </div>


        <!-- elegant loader -->
        <div class="loader-wrapper">
            <div class="status-text">
                <i>✦</i> loading <i>✦</i>
            </div>
            <div class="liquid-track">
                <div class="liquid-fill" id="liquidFill" style="width: 0%;"></div>
            </div>
        </div>
    </div>

    <script>
        (function() {
            // generate soft particles (much better than lightning)
            function createParticles() {
                const field = document.getElementById('particleField');
                const count = Math.min(35, Math.floor(window.innerWidth / 40));
                for (let i = 0; i < count; i++) {
                    const p = document.createElement('div');
                    p.className = 'particle';
                    const size = 20 + Math.random() * 140;
                    p.style.width = size + 'px';
                    p.style.height = size + 'px';
                    p.style.left = Math.random() * 100 + '%';
                    p.style.top = Math.random() * 100 + '%';
                    p.style.animationDelay = Math.random() * 10 + 's';
                    p.style.animationDuration = 14 + Math.random() * 16 + 's';
                    p.style.background = `rgba(${150 + Math.random()*80}, ${60 + Math.random()*70}, 255, 0.1)`;
                    field.appendChild(p);
                }
            }

            // ====== PROGRESS & REDIRECT ======
            const fillBar = document.getElementById('liquidFill');
            const skipBtn = document.getElementById('skipIntro');
            let progress = 0;
            let interval;

            const hasVisited = sessionStorage.getItem('materialx_refined');
            if (!hasVisited) {
                sessionStorage.setItem('materialx_refined', 'true');
                startLoading(false);
            } else {
                // return visitor: faster
                startLoading(true);
            }

            function startLoading(fast = false) {
                const step = fast ? 2.8 : 1.2;
                interval = setInterval(() => {
                    progress += step + Math.random() * 1.2;
                    if (progress >= 100) {
                        progress = 100;
                        fillBar.style.width = '100%';
                        clearInterval(interval);
                        setTimeout(() => {
                            window.location.href = 'homee.html';
                        }, 700);
                    } else {
                        fillBar.style.width = progress + '%';
                    }
                }, 110);
            }

            skipBtn.addEventListener('click', (e) => {
                e.preventDefault();
                clearInterval(interval);
                window.location.href = 'homee.html';
            });

            // ====== Particles generation ======
            window.addEventListener('load', () => {
                createParticles();
            });

            window.addEventListener('resize', () => {
                document.getElementById('particleField').innerHTML = '';
                createParticles();
            });

            // additional refined animation: logo subtle scale on title complete?
            // we can also add a tiny extra delay before showing subline, but fine.

            // ensure image doesn't break if missing (just in case)
            const img = document.getElementById('logoImage');
            img.addEventListener('error', function() {
                // if image missing, replace with elegant fallback (preserve style)
                this.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='180' viewBox='0 0 400 180'%3E%3Crect width='400' height='180' fill='%23200d47' rx='30' /%3E%3Ctext x='90' y='110' fill='%23e9cbff' font-size='60' font-weight='900' font-family='Poppins'%3EMX%3C/text%3E%3C/svg%3E";
            });
        })();
    </script>

    <!-- small extra keyframes for border animation -->
    <style>
        /* additional smoothness */
        .logo-glassy {
            will-change: transform, filter;
        }
        .liquid-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 240, 255, 0.3), transparent);
            animation: shinePass 2.8s infinite;
        }
        @keyframes shinePass {
            0% { transform: translateX(-100%); }
            60% { transform: translateX(100%); }
            100% { transform: translateX(100%); }
        }
    </style>
</body>
</html>